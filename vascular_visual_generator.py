import networkx as nx
import numpy as np
import vtk

from settings import OUTPUT_PATH
from sgg.evaluate import get_starting_map
from utils.util import set_seed
from vascular_network.dataset_generation import generate_training_graph

# Set random seed
set_seed(42)

steps = [(43, 922, [959.333, 3963.67, 704.9790403289795]), (43, 923, [963.3790700988769, 3963.67, 704.9790403289795]),
         (43, 923, None), (43, 923, None), (43, 923, None), (43, 923, None), (43, 922, None), (43, 922, None),
         (43, 922, None), (43, 922, None), (369, 924, [941.9172801971436, 3930.5, 728.5]), (369, 924, None),
         (369, 924, None), (369, 924, None), (447, 925, [943.713070098877, 4007.67, 736.0]), (447, 925, None),
         (447, 925, None), (447, 925, None), (447, 925, None), (447, 925, None), (447, 925, None),
         (447, 926, [937.740299407959, 4007.67, 736.0]), (447, 926, None), (447, 926, None),
         (459, 927, [952.578010559082, 4006.33, 733.635619934082]),
         (459, 928, [952.578010559082, 4010.954080657959, 733.635619934082]),
         (459, 929, [952.578010559082, 4010.954080657959, 736.7183397369384]), (459, 929, None),
         (459, 930, [951.6146602630615, 4010.954080657959, 741.5350893096924]), (459, 930, None), (459, 930, None),
         (459, 930, None), (459, 930, None), (459, 930, None),
         (472, 931, [956.911010559082, 3987.0, 738.0523397369385]),
         (472, 932, [956.911010559082, 3987.9633502960205, 749.4198705596924]),
         (472, 933, [965.5811594085693, 3987.9633502960205, 749.4198705596924]), (472, 933, None), (472, 932, None),
         (472, 931, None), (472, 934, [954.984309967041, 3987.1926708221436, 742.8690893096924]), (472, 934, None),
         (472, 934, None), (472, 934, None), (521, 935, [918.046070098877, 3932.0, 742.0]), (521, 935, None),
         (521, 935, None), (521, 936, [913.0366497039795, 3930.073299407959, 742.0]), (521, 936, None),
         (521, 936, None), (521, 936, None), (521, 936, None), (521, 936, None), (521, 936, None),
         (634, 937, [936.3759202957153, 3982.0, 749.0]),
         (634, 938, [936.3759202957153, 3982.9633502960205, 752.275390625]),
         (634, 939, [946.972770690918, 3982.0, 749.0]), (634, 937, None),
         (634, 940, [940.0366497039795, 3982.0, 747.073299407959]), (634, 940, None), (634, 940, None),
         (634, 941, [940.0366497039795, 3982.0, 754.972770690918]), (634, 941, None), (634, 941, None),
         (703, 942, [887.5, 3978.5, 754.426700592041]), (703, 942, None), (703, 942, None), (703, 942, None),
         (703, 942, None), (703, 942, None), (703, 942, None), (703, 942, None),
         (748, 943, [922.0, 3950.9633502960205, 756.0]), (748, 943, None), (748, 716, None), (748, 716, None),
         (748, 716, None), (748, 943, None), (748, 943, None), (748, 943, None), (748, 943, None), (748, 943, None),
         (805, 944, [932.7659702301025, 3998.426700592041, 758.8853397369385]),
         (805, 945, [932.7659702301025, 3999.197380065918, 762.3533992767334]), (805, 945, None),
         (805, 946, [932.7659702301025, 4002.8581104278564, 762.3533992767334]), (805, 945, None), (805, 945, None),
         (805, 945, None), (805, 947, [935.4633502960205, 3997.270679473877, 762.3533992767334]), (805, 947, None),
         (805, 945, None), (808, 944, None), (808, 948, [935.639770690918, 4002.8347092437743, 757.4586391448975]),
         (808, 948, None), (808, 948, None), (808, 948, None),
         (808, 949, [937.1811296386719, 3998.403299407959, 759.770679473877]),
         (808, 950, [937.1811296386719, 3998.403299407959, 764.972770690918]), (808, 950, None),
         (808, 951, [937.1811296386719, 3998.403299407959, 754.953929901123]), (808, 951, None),
         (927, 952, [952.578010559082, 4006.33, 726.8921697692871]),
         (927, 953, [947.9539308547974, 4008.6420403289794, 726.8921697692871]), (927, 929, None), (927, 929, None),
         (927, 954, [954.8900508880615, 4010.954080657959, 729.589549835205]), (927, 954, None), (927, 954, None),
         (927, 955, [951.229320526123, 4010.954080657959, 729.589549835205]), (927, 955, None), (927, 955, None),
         (929, 928, None), (929, 928, None), (929, 956, [954.8900508880615, 4011.532091217041, 736.5256689147949]),
         (929, 956, None), (929, 956, None), (929, 957, [954.8900508880615, 4015.770830230713, 736.5256689147949]),
         (929, 957, None), (929, 957, None), (929, 957, None), (929, 957, None),
         (933, 958, [968.2785394744873, 3987.9633502960205, 749.8052102966309]), (933, 958, None),
         (933, 959, [968.2785394744873, 3988.926700592041, 761.1727411193848]), (933, 959, None),
         (933, 960, [968.2785394744873, 3987.9633502960205, 757.7046815795899]), (933, 958, None), (933, 958, None),
         (933, 958, None), (933, 958, None), (933, 958, None), (936, 935, None),
         (936, 961, [922.0921401977539, 3928.146598815918, 743.348690032959]), (936, 961, None), (936, 961, None),
         (936, 961, None), (936, 962, [916.697380065918, 3928.146598815918, 742.9633502960205]), (936, 962, None),
         (936, 962, None), (936, 963, [911.1099491119385, 3928.146598815918, 743.348690032959]), (936, 963, None),
         (937, 964, [933.2932004928589, 3982.0, 749.0]), (937, 964, None), (937, 964, None), (937, 964, None),
         (937, 964, None), (937, 964, None), (944, 965, [931.4172801971436, 3996.8853397369385, 751.5638799667358]),
         (944, 965, None), (944, 965, None), (944, 966, [931.4172801971436, 3996.8853397369385, 760.6193695068359]),
         (944, 966, None), (944, 966, None), (944, 966, None), (944, 966, None), (944, 966, None), (944, 966, None),
         (948, 967, [935.639770690918, 4002.8347092437743, 760.5413589477539]), (948, 967, None), (948, 967, None),
         (948, 967, None), (952, 968, [952.578010559082, 4004.403299407959, 726.8921697692871]), (952, 927, None),
         (952, 969, [951.229320526123, 4004.210630493164, 731.5162504272461]), (952, 969, None), (952, 968, None),
         (952, 968, None), (952, 968, None), (952, 968, None), (952, 968, None), (952, 968, None),
         (955, 970, [951.229320526123, 4010.954080657959, 729.011539276123]),
         (955, 971, [955.275390625, 4016.926851348877, 729.011539276123]), (955, 954, None),
         (955, 972, [945.6418905258179, 4010.954080657959, 730.1675603942871]), (955, 972, None),
         (955, 973, [945.6418905258179, 4016.926851348877, 730.1675603942871]), (955, 973, None), (955, 973, None),
         (955, 973, None), (955, 973, None), (956, 954, None), (956, 955, None), (956, 972, None),
         (956, 974, [947.1832504272461, 4011.532091217041, 746.5445097045898]),
         (956, 975, [947.1832504272461, 4016.156171875, 746.5445097045898]),
         (956, 976, [953.926700592041, 4016.156171875, 740.3790681915283]),
         (956, 977, [958.55078125, 4016.156171875, 738.4523695068359]), (956, 977, None), (956, 977, None),
         (956, 977, None), (961, 978, [925.7528705596924, 3926.219898223877, 743.348690032959]), (961, 978, None),
         (961, 962, None), (961, 962, None), (961, 962, None), (961, 962, None), (961, 962, None), (961, 962, None),
         (961, 979, [925.7528705596924, 3926.219898223877, 748.9361209869385]), (961, 979, None),
         (962, 980, [914.770679473877, 3926.219898223877, 742.9633502960205]), (962, 980, None), (962, 980, None),
         (962, 980, None), (962, 980, None), (962, 981, [914.770679473877, 3925.2565479278564, 746.2387409210205]),
         (962, 980, None), (962, 981, None), (962, 982, [914.770679473877, 3932.192668914795, 745.0827198028564]),
         (962, 982, None), (968, 969, None), (968, 952, None),
         (968, 983, [944.8712100982666, 4006.1373291778564, 726.314159210205]), (968, 983, None),
         (968, 984, [959.321460723877, 4004.5959702301025, 734.5989702301025]), (968, 984, None), (968, 953, None),
         (968, 954, None), (968, 954, None), (968, 954, None),
         (969, 985, [946.6052408218384, 4004.210630493164, 731.5162504272461]),
         (969, 986, [947.1832504272461, 4004.210630493164, 739.608390625]), (969, 985, None),
         (969, 987, [947.1832504272461, 4006.908010559082, 734.0209596710205]),
         (969, 988, [947.1832504272461, 4002.283929901123, 734.0209596710205]), (969, 988, None), (969, 987, None),
         (969, 987, None), (969, 987, None), (969, 987, None),
         (972, 989, [944.2932004928589, 4010.954080657959, 722.8461006240844]),
         (972, 990, [944.2932004928589, 4011.532091217041, 740.7644098358154]),
         (972, 991, [941.4031505584717, 4008.834711151123, 733.635619934082]),
         (972, 992, [941.4031505584717, 3998.623200492859, 733.635619934082]), (972, 992, None), (972, 992, None),
         (972, 992, None), (972, 991, None), (972, 991, None), (972, 991, None),
         (974, 993, [947.1832504272461, 4011.532091217041, 743.4617899017334]), (974, 993, None), (974, 993, None),
         (974, 993, None), (974, 993, None), (974, 993, None), (974, 993, None), (974, 993, None), (974, 993, None),
         (974, 993, None), (975, 994, [945.8345603942871, 4016.156171875, 746.5445097045898]), (975, 994, None),
         (978, 995, [923.8261699676514, 3924.293197631836, 743.348690032959]), (978, 995, None), (978, 995, None),
         (978, 995, None), (978, 995, None), (978, 995, None),
         (978, 996, [929.4136009216309, 3924.293197631836, 744.3120403289795]), (978, 996, None), (978, 996, None),
         (978, 996, None), (979, 997, [925.7528705596924, 3926.219898223877, 752.0188407897949]), (979, 997, None),
         (979, 997, None), (979, 997, None), (979, 997, None), (979, 997, None), (979, 997, None), (979, 997, None),
         (979, 997, None), (979, 998, [923.8261699676514, 3926.219898223877, 747.0094203948975]), (980, 963, None),
         (980, 999, [912.8439788818359, 3924.293197631836, 741.0366497039795]), (980, 999, None), (980, 999, None),
         (980, 999, None), (980, 999, None), (980, 999, None), (980, 981, None), (980, 981, None), (980, 981, None),
         (981, 1000, [914.770679473877, 3923.3298473358154, 744.3120403289795]), (981, 1000, None),
         (981, 1001, [917.8533992767334, 3923.3298473358154, 744.3120403289795]), (981, 1000, None), (981, 1000, None),
         (981, 1000, None), (981, 1000, None), (981, 1002, [912.8439788818359, 3923.3298473358154, 747.780101776123]),
         (981, 1000, None), (981, 1000, None), (985, 1003, [941.9811611175537, 4004.210630493164, 730.938239868164]),
         (985, 1003, None), (985, 1004, [938.898440361023, 4004.210630493164, 730.938239868164]), (985, 1004, None),
         (985, 1004, None), (985, 1004, None), (985, 1005, [938.898440361023, 4008.834711151123, 730.938239868164]),
         (985, 1006, [947.1832513809204, 4008.834711151123, 739.2230508880615]),
         (985, 1007, [938.898440361023, 4008.834711151123, 739.2230508880615]),
         (985, 1008, [950.8439817428589, 4008.834711151123, 739.2230508880615]),
         (990, 1009, [942.9445104598999, 4011.532091217041, 743.2691190795898]), (990, 1009, None), (990, 1009, None),
         (990, 1010, [939.6691207885742, 4011.532091217041, 743.2691190795898]), (990, 1010, None), (990, 1010, None),
         (990, 1010, None), (990, 1009, None), (990, 1009, None),
         (991, 1011, [939.0911102294922, 4010.183401184082, 733.635619934082]), (991, 1011, None), (991, 1011, None),
         (991, 1011, None), (991, 1011, None), (991, 1011, None), (991, 1011, None), (991, 1011, None),
         (991, 926, None), (991, 926, None), (994, 975, None), (994, 975, None),
         (997, 1012, [925.7528705596924, 3926.219898223877, 755.1015605926514]), (997, 1012, None), (997, 1012, None),
         (997, 1012, None), (998, 978, None), (999, 1013, [912.8439788818359, 3924.293197631836, 741.421989440918]),
         (999, 1013, None), (999, 1014, [908.2198991775513, 3924.293197631836, 741.6146602630615]),
         (999, 1015, [908.2198991775513, 3924.293197631836, 746.046070098877]), (999, 1015, None), (999, 1015, None),
         (999, 1002, None), (999, 1002, None), (999, 1002, None), (999, 1013, None),
         (1006, 1016, [947.1832513809204, 4008.834711151123, 739.8010614471435]), (1006, 987, None), (1006, 987, None),
         (1006, 929, None), (1006, 929, None), (1006, 929, None), (1006, 929, None), (1006, 929, None),
         (1006, 925, None), (1006, 925, None), (1009, 1010, None),
         (1009, 1017, [941.5958204269409, 4011.532091217041, 752.5172784881591]), (1009, 1010, None),
         (1009, 1018, [947.5685911178589, 4016.156171875, 752.5172784881591]), (1009, 1018, None), (1009, 1018, None),
         (1009, 1018, None), (1009, 1019, [947.5685911178589, 4016.156171875, 741.5350893096924]), (1009, 1019, None),
         (1009, 1019, None), (1010, 1020, [939.6691207885742, 4011.532091217041, 749.4345586853027]),
         (1010, 1020, None), (1010, 1021, [936.5864009857178, 4011.532091217041, 749.4345586853027]),
         (1010, 1022, [936.5864009857178, 4011.532091217041, 743.4617899017334]), (1010, 1022, None),
         (1010, 1022, None), (1010, 1023, [938.3204307556152, 4004.595971183777, 743.4617899017334]),
         (1010, 1020, None), (1010, 1024, [943.3298511505127, 4011.532091217041, 749.4345586853027]),
         (1010, 1009, None), (1011, 991, None), (1012, 1025, [925.7528705596924, 3926.219898223877, 756.4502506256104]),
         (1012, 997, None), (1012, 997, None), (1012, 997, None),
         (1012, 1026, [929.4136009216309, 3926.219898223877, 753.1748600006104]), (1012, 997, None), (1012, 997, None),
         (1012, 1026, None), (1012, 1026, None), (1012, 997, None), (1013, 1000, None), (1013, 1002, None),
         (1013, 1002, None), (1013, 1002, None), (1013, 1002, None), (1013, 1002, None), (1013, 1002, None),
         (1013, 1002, None), (1013, 1002, None), (1013, 1002, None), (1014, 1015, None), (1014, 1015, None),
         (1015, 1027, [908.2198991775513, 3924.293197631836, 749.1287899017334]), (1015, 1027, None),
         (1015, 1027, None), (1015, 1027, None), (1015, 1027, None), (1015, 1027, None), (1015, 1027, None),
         (1015, 1028, [906.2931985855103, 3924.293197631836, 744.1193695068359]),
         (1015, 1029, [900.3204288482666, 3924.293197631836, 744.1193695068359]), (1015, 1028, None),
         (1016, 1006, None), (1016, 930, None), (1016, 930, None), (1016, 1008, None), (1016, 930, None),
         (1016, 930, None), (1016, 930, None), (1016, 930, None), (1016, 930, None), (1016, 930, None),
         (1017, 1024, None), (1017, 1024, None), (1017, 1024, None), (1017, 1024, None), (1017, 1024, None),
         (1017, 1030, [954.1193704605103, 4011.532091217041, 749.4345586853027]),
         (1017, 1031, [947.1832513809204, 4011.532091217041, 753.0952890472412]),
         (1017, 1032, [947.1832513809204, 4011.532091217041, 758.4900491790771]), (1017, 1032, None),
         (1017, 1032, None), (1018, 1033, [946.9905805587769, 4016.156171875, 753.0952890472412]), (1018, 1033, None),
         (1018, 1033, None), (1018, 1034, [952.5780115127563, 4016.156171875, 755.0219877319336]), (1018, 1033, None),
         (1018, 1034, None), (1018, 1034, None), (1018, 1034, None), (1018, 1034, None), (1018, 1034, None),
         (1019, 1035, [952.0000009536743, 4016.156171875, 743.2691190795898]),
         (1019, 1036, [946.2199010848999, 4016.156171875, 743.2691190795898]), (1019, 1036, None), (1019, 1036, None),
         (1019, 1036, None), (1019, 1036, None), (1019, 1036, None),
         (1019, 1037, [942.3665008544922, 4016.156171875, 743.2691190795898]),
         (1019, 1038, [942.3665008544922, 4020.780252532959, 743.2691190795898]), (1019, 1038, None),
         (1022, 1039, [936.5864009857178, 4011.532091217041, 743.8471296386718]), (1022, 1039, None),
         (1022, 1039, None), (1022, 1039, None), (1022, 1039, None), (1022, 1039, None), (1022, 1039, None),
         (1022, 1039, None), (1022, 1039, None), (1022, 1039, None),
         (1025, 1040, [925.7528705596924, 3926.219898223877, 758.1842803955078]), (1025, 1040, None),
         (1025, 1040, None), (1025, 1012, None), (1025, 1012, None), (1025, 1012, None), (1025, 1012, None),
         (1025, 1012, None), (1025, 1012, None), (1025, 1012, None),
         (1026, 1041, [929.4136009216309, 3926.219898223877, 754.9088897705078]),
         (1026, 1042, [929.4136009216309, 3926.219898223877, 751.2481594085693]), (1026, 1042, None),
         (1026, 1042, None), (1026, 1042, None), (1026, 997, None), (1026, 997, None), (1026, 997, None),
         (1026, 997, None), (1026, 997, None), (1027, 1043, [908.2198991775513, 3924.293197631836, 752.2115097045898]),
         (1027, 1043, None), (1027, 1043, None), (1027, 1043, None), (1027, 1043, None), (1027, 1043, None),
         (1027, 1044, [906.2931985855103, 3924.293197631836, 755.1015605926514]), (1027, 1043, None),
         (1027, 1044, None), (1027, 1044, None),
         (1029, 1045, [901.2837791442871, 3924.293197631836, 747.2020893096924]), (1029, 1045, None),
         (1029, 1045, None), (1029, 1015, None), (1029, 1015, None), (1029, 1014, None), (1029, 1027, None),
         (1029, 1046, [906.2931995391846, 3918.3204278945923, 750.0921401977539]), (1029, 1046, None),
         (1029, 1046, None), (1030, 1047, [954.1193704605103, 4011.532091217041, 746.3518388824463]),
         (1030, 1047, None), (1030, 1047, None), (1030, 1047, None), (1030, 1047, None), (1030, 1047, None),
         (1030, 1047, None), (1030, 1047, None), (1030, 1047, None), (1030, 1047, None),
         (1031, 1048, [947.1832513809204, 4011.532091217041, 753.4806287841797]),
         (1031, 1049, [951.6146612167358, 4011.532091217041, 753.4806287841797]), (1031, 1049, None),
         (1031, 1032, None), (1031, 1032, None), (1031, 1050, [946.6052408218384, 4016.156171875, 757.3340299682617]),
         (1031, 1050, None), (1031, 1050, None), (1031, 1034, None), (1031, 1034, None),
         (1032, 1051, [947.1832513809204, 4011.532091217041, 759.0680597381591]), (1032, 1051, None),
         (1032, 1051, None), (1032, 1051, None),
         (1032, 1052, [946.4125719070435, 4013.2661209869384, 762.7287901000976]), (1032, 1052, None),
         (1032, 1052, None), (1032, 1052, None), (1032, 1052, None), (1032, 1052, None), (1033, 1018, None),
         (1033, 1053, [942.3665008544922, 4016.156171875, 753.6732996063232]), (1033, 1018, None), (1033, 1018, None),
         (1033, 1018, None), (1033, 1018, None), (1033, 1018, None), (1033, 1018, None), (1033, 1018, None),
         (1033, 1018, None), (1034, 1054, [951.2293214797974, 4016.156171875, 755.5999982910156]), (1034, 1054, None),
         (1034, 1055, [951.2293214797974, 4020.780252532959, 760.9947584228515]),
         (1034, 1056, [957.0094213485718, 4020.780252532959, 760.9947584228515]), (1034, 1055, None),
         (1034, 1055, None), (1034, 1055, None), (1034, 1057, [951.2293214797974, 4020.780252532959, 756.756017501831]),
         (1034, 1057, None), (1034, 1057, None), (1036, 1019, None), (1036, 1019, None), (1036, 1037, None),
         (1036, 1037, None), (1036, 1037, None), (1036, 1037, None), (1036, 1037, None), (1036, 1019, None),
         (1036, 1019, None), (1036, 1019, None), (1037, 1058, [942.3665008544922, 4016.156171875, 743.8471296386718]),
         (1037, 1036, None), (1037, 994, None), (1037, 994, None), (1037, 994, None),
         (1037, 1059, [946.4125709533691, 4020.780252532959, 745.5811594085693]), (1037, 1059, None),
         (1037, 1059, None), (1037, 1059, None), (1037, 1059, None),
         (1038, 1060, [942.3665008544922, 4020.780252532959, 743.8471296386718]), (1038, 1059, None),
         (1038, 1059, None), (1038, 1060, None), (1038, 1060, None), (1038, 1060, None),
         (1040, 1061, [925.7528705596924, 3926.219898223877, 761.2670001983643]),
         (1040, 1062, [922.2848110198975, 3923.1371784210205, 759.9183101654053]),
         (1040, 1063, [922.2848110198975, 3923.1371784210205, 756.2575798034668]),
         (1040, 1064, [929.7989406585693, 3932.963348388672, 756.2575798034668]),
         (1040, 1065, [925.7528705596924, 3932.963348388672, 764.1570510864258]), (1040, 1065, None),
         (1040, 1065, None), (1040, 1065, None), (1040, 1065, None), (1040, 1065, None), (1041, 1025, None),
         (1041, 1025, None), (1041, 1061, None),
         (1041, 1066, [924.7895212173462, 3930.843978881836, 755.4869003295898]),
         (1041, 1067, [933.8450107574463, 3930.843978881836, 755.4869003295898]), (1041, 1067, None),
         (1041, 1067, None), (1041, 1067, None), (1041, 1067, None), (1041, 1067, None), (1042, 1026, None),
         (1042, 1026, None), (1042, 1026, None), (1042, 1026, None),
         (1042, 1068, [931.3403015136719, 3926.219898223877, 757.2209300994873]), (1042, 1068, None),
         (1042, 1068, None), (1042, 1068, None), (1042, 1068, None), (1042, 1025, None), (1043, 1044, None),
         (1043, 1044, None), (1043, 1044, None), (1043, 1044, None), (1043, 1044, None), (1043, 1044, None),
         (1043, 1044, None), (1043, 1044, None), (1043, 1044, None), (1043, 1044, None),
         (1044, 1069, [906.2931985855103, 3924.293197631836, 758.1842803955078]), (1044, 1069, None),
         (1044, 1043, None), (1044, 1043, None), (1044, 1043, None), (1044, 1069, None), (1044, 1069, None),
         (1044, 1069, None), (1044, 1069, None), (1044, 1069, None),
         (1046, 1070, [903.2104797363281, 3918.3204278945923, 750.0921401977539]), (1046, 1070, None),
         (1046, 1070, None), (1046, 1071, [909.953929901123, 3918.3204278945923, 756.0649108886719]),
         (1046, 1071, None), (1046, 1071, None), (1046, 1071, None), (1046, 1071, None),
         (1046, 1072, [901.6691198348999, 3918.3204278945923, 756.0649108886719]), (1046, 1072, None),
         (1047, 1073, [943.9078607559204, 4011.532091217041, 746.3518388824463]), (1047, 1030, None),
         (1047, 1074, [966.6429204940796, 4011.532091217041, 746.9298494415283]), (1047, 1074, None),
         (1047, 1075, [957.3947610855103, 4011.532091217041, 746.9298494415283]), (1047, 1075, None),
         (1047, 1075, None), (1047, 1075, None), (1047, 1075, None),
         (1047, 1076, [958.5507802963257, 4016.156171875, 746.9298494415283]), (1049, 1030, None),
         (1049, 1077, [951.6146612167358, 4011.532091217041, 759.4533994750976]), (1049, 1030, None),
         (1049, 1030, None), (1049, 1030, None), (1049, 1030, None), (1049, 1030, None), (1049, 1030, None),
         (1049, 1078, [951.6146612167358, 4012.110101776123, 762.5361192779541]), (1049, 1078, None),
         (1050, 1079, [945.2565507888794, 4016.156171875, 757.3340299682617]),
         (1050, 1080, [945.2565507888794, 4016.156171875, 761.5727708892822]), (1050, 1052, None), (1050, 1052, None),
         (1050, 1052, None), (1050, 1078, None),
         (1050, 1081, [950.2659711837769, 4015.578161315918, 761.9581106262207]), (1050, 1054, None),
         (1050, 1054, None), (1050, 1054, None),
         (1056, 1082, [955.6607313156128, 4020.780252532959, 761.5727689819336]), (1056, 1055, None),
         (1056, 1083, [952.3853416442871, 4018.082872467041, 764.65548878479]), (1056, 1083, None),
         (1056, 1084, [958.9361219406128, 4020.780252532959, 764.65548878479]),
         (1056, 1085, [958.9361219406128, 4020.780252532959, 760.9947584228515]), (1056, 1085, None),
         (1056, 1086, [961.4408311843872, 4025.404333190918, 760.9947584228515]), (1056, 1086, None),
         (1056, 1086, None), (1061, 1087, [924.4041805267334, 3926.219898223877, 763.0010299682617]),
         (1061, 1087, None), (1061, 1025, None), (1061, 1025, None), (1061, 1087, None), (1061, 1065, None),
         (1061, 1065, None), (1061, 1065, None), (1061, 1065, None),
         (1061, 1088, [930.3769512176514, 3930.843978881836, 763.0010299682617]),
         (1064, 1089, [919.3947601318359, 3932.963348388672, 762.2303504943848]),
         (1064, 1090, [919.3947601318359, 3937.3947582244873, 762.2303504943848]),
         (1064, 1091, [926.7162208557129, 3937.3947582244873, 762.2303504943848]),
         (1064, 1092, [929.7989406585693, 3930.265968322754, 756.8355903625488]),
         (1064, 1093, [929.7989406585693, 3937.3947582244873, 756.8355903625488]), (1064, 1093, None),
         (1064, 1093, None), (1064, 1093, None), (1064, 1092, None), (1064, 1092, None),
         (1065, 1094, [925.7528705596924, 3932.963348388672, 765.8910808563232]),
         (1065, 1095, [924.4041805267334, 3924.4858684539795, 765.8910808563232]),
         (1065, 1096, [924.4041805267334, 3941.055488586426, 765.8910808563232]), (1065, 1096, None),
         (1065, 1096, None), (1065, 1096, None), (1065, 1096, None), (1065, 1096, None), (1065, 1096, None),
         (1065, 1096, None), (1068, 1097, [931.3403015136719, 3926.219898223877, 757.7989406585693]),
         (1068, 1098, [935.7717113494873, 3926.219898223877, 757.7989406585693]), (1068, 1098, None),
         (1068, 1099, [921.128791809082, 3926.219898223877, 757.7989406585693]),
         (1068, 1100, [921.128791809082, 3926.219898223877, 763.1937007904053]), (1068, 1089, None), (1068, 1089, None),
         (1068, 1089, None), (1068, 1089, None), (1068, 1088, None),
         (1071, 1101, [909.953929901123, 3918.3204278945923, 755.1015605926514]),
         (1071, 1102, [909.953929901123, 3918.3204278945923, 758.7622909545898]), (1071, 1102, None),
         (1071, 1102, None), (1071, 1102, None),
         (1071, 1103, [909.953929901123, 3918.3204278945923, 762.0376815795898]), (1071, 1103, None), (1073, 974, None),
         (1073, 974, None), (1073, 974, None), (1073, 974, None), (1073, 974, None), (1073, 974, None),
         (1073, 974, None), (1073, 974, None), (1073, 974, None), (1073, 974, None),
         (1074, 1104, [966.6429204940796, 4011.532091217041, 735.9476593093872]),
         (1074, 1105, [966.450249671936, 4004.595971183777, 755.9853399353027]), (1074, 1105, None),
         (1074, 1106, [956.2387399673462, 4004.595971183777, 749.2418897705078]),
         (1074, 1107, [979.1664705276489, 4004.595971183777, 749.2418897705078]),
         (1074, 1108, [979.1664705276489, 4015.7708321380615, 749.2418897705078]),
         (1074, 1109, [971.2670011520386, 4015.7708321380615, 751.3612592773437]), (1074, 1109, None),
         (1074, 1109, None), (1074, 1109, None),
         (1075, 1110, [957.3947610855103, 4011.532091217041, 748.6638792114258]), (1075, 1110, None),
         (1075, 1110, None), (1075, 1110, None), (1075, 1110, None), (1075, 1110, None), (1075, 1110, None),
         (1075, 1110, None), (1075, 1110, None), (1075, 1110, None),
         (1078, 1111, [951.6146612167358, 4012.110101776123, 763.1141298370361]),
         (1078, 1112, [956.0460710525513, 4012.110101776123, 763.1141298370361]), (1078, 1112, None),
         (1078, 1112, None), (1078, 1112, None), (1078, 1111, None), (1078, 1111, None),
         (1078, 1113, [956.2387418746948, 4013.8441315460204, 771.5916097717285]), (1078, 1113, None),
         (1078, 1114, [956.2387418746948, 4016.734182434082, 765.4261701660156]), (1079, 1033, None),
         (1079, 1053, None), (1079, 1115, [943.9078607559204, 4013.458791809082, 754.6366499023437]),
         (1079, 1115, None), (1079, 1115, None),
         (1079, 1116, [941.0178108215332, 4013.458791809082, 763.6921403961181]), (1079, 1116, None),
         (1079, 1116, None), (1079, 1116, None), (1079, 1116, None),
         (1083, 1117, [952.3853416442871, 4018.082872467041, 768.3162191467285]),
         (1083, 1118, [956.0460720062256, 4018.082872467041, 768.3162191467285]), (1083, 1114, None),
         (1083, 1119, [961.6335010528564, 4018.082872467041, 766.004178817749]),
         (1083, 1120, [946.9905815124512, 4021.7436028289794, 766.004178817749]), (1083, 1120, None),
         (1083, 1121, [957.0094223022461, 4021.7436028289794, 772.3622892456054]), (1083, 1113, None),
         (1083, 1113, None), (1083, 1121, None), (1084, 1122, [962.9821920394897, 4020.780252532959, 766.004178817749]),
         (1084, 1122, None), (1084, 1122, None), (1084, 1122, None), (1084, 1122, None), (1084, 1122, None),
         (1084, 1122, None), (1084, 1122, None),
         (1084, 1123, [963.5602025985718, 4020.780252532959, 772.3622892456054]), (1084, 1123, None),
         (1088, 1124, [930.3769512176514, 3930.843978881836, 763.5790405273438]),
         (1088, 1125, [934.8083610534668, 3930.843978881836, 763.5790405273438]), (1088, 1125, None),
         (1088, 1065, None), (1088, 1124, None), (1088, 1124, None),
         (1088, 1126, [936.7350616455078, 3935.468059539795, 762.4230194091797]), (1088, 1126, None),
         (1088, 1127, [935.0010318756104, 3935.468059539795, 765.1203994750977]), (1088, 1127, None),
         (1091, 1128, [926.7162208557129, 3937.3947582244873, 768.2031211853027]), (1091, 1128, None),
         (1091, 1128, None), (1091, 1128, None), (1091, 1128, None), (1091, 1128, None), (1091, 1128, None),
         (1091, 1128, None), (1091, 1128, None),
         (1093, 1129, [929.7989406585693, 3937.3947582244873, 758.1842803955078]), (1093, 1064, None),
         (1093, 1064, None), (1093, 1064, None), (1093, 1064, None),
         (1093, 1130, [929.7989406585693, 3941.055488586426, 758.1842803955078]),
         (1093, 1131, [929.4136009216309, 3941.055488586426, 762.8083610534668]), (1093, 1131, None),
         (1093, 1131, None), (1093, 1131, None), (1097, 1098, None), (1097, 1098, None), (1097, 1098, None),
         (1097, 1098, None), (1097, 1098, None), (1097, 1098, None), (1097, 1098, None), (1097, 1098, None),
         (1097, 1098, None), (1097, 1098, None), (1099, 1132, [921.128791809082, 3926.219898223877, 759.5329704284668]),
         (1099, 1061, None), (1099, 1061, None), (1099, 1061, None), (1099, 1061, None), (1099, 1061, None),
         (1099, 1061, None), (1099, 1061, None), (1099, 1040, None), (1099, 1061, None),
         (1101, 1133, [913.6146602630615, 3918.3204278945923, 758.7622909545898]), (1101, 1133, None),
         (1101, 1133, None), (1101, 1133, None), (1101, 1133, None), (1101, 1133, None), (1101, 1133, None),
         (1101, 1133, None), (1101, 1133, None), (1101, 1133, None), (1104, 956, None), (1104, 956, None),
         (1104, 956, None), (1104, 956, None), (1104, 956, None), (1104, 956, None),
         (1104, 1134, [956.4314107894897, 4013.2661209869384, 739.9937294082641]), (1104, 1134, None),
         (1104, 1134, None), (1104, 1135, [972.8083600997925, 4016.156171875, 739.9937294082641]),
         (1106, 1136, [953.1560201644897, 4002.6692705917358, 746.5445097045898]), (1106, 1136, None),
         (1106, 1136, None), (1106, 1136, None), (1106, 1136, None), (1106, 1136, None), (1106, 1136, None),
         (1106, 1136, None), (1106, 1136, None),
         (1106, 1137, [960.6701498031616, 4004.595971183777, 746.1591699676513]),
         (1107, 1138, [979.1664705276489, 4002.6692705917358, 749.8199003295898]),
         (1107, 1139, [979.1664705276489, 4002.6692705917358, 754.8293207244873]),
         (1107, 1140, [983.5978803634644, 4002.6692705917358, 754.8293207244873]), (1107, 1140, None),
         (1107, 1140, None), (1107, 1141, [983.5978803634644, 4009.2200518417358, 746.5445097045898]),
         (1107, 1142, [983.5978803634644, 4009.2200518417358, 755.6000001983642]),
         (1107, 1143, [983.5978803634644, 4009.2200518417358, 750.7832506256103]), (1107, 1142, None),
         (1107, 1143, None), (1108, 1144, [979.1664705276489, 4015.7708321380615, 749.8199003295898]),
         (1108, 1144, None), (1108, 1144, None), (1108, 1144, None), (1108, 1144, None), (1108, 1144, None),
         (1108, 1144, None), (1108, 1144, None), (1108, 1144, None), (1108, 1144, None),
         (1112, 1145, [956.0460710525513, 4012.110101776123, 764.4628198699951]), (1112, 1052, None),
         (1112, 1146, [945.6418905258179, 4012.110101776123, 767.160199935913]),
         (1112, 1147, [945.6418905258179, 4007.1006813812255, 767.160199935913]), (1112, 1147, None),
         (1112, 1147, None), (1112, 1147, None), (1112, 1148, [945.6418905258179, 4016.734182434082, 767.160199935913]),
         (1112, 1148, None), (1112, 1148, None),
         (1113, 1149, [956.2387418746948, 4013.8441315460204, 768.8942297058105]), (1113, 1149, None),
         (1113, 1149, None), (1113, 1149, None), (1113, 1149, None), (1113, 1149, None), (1113, 1149, None),
         (1113, 1149, None), (1114, 1083, None), (1114, 1118, None), (1114, 1118, None), (1114, 1118, None),
         (1114, 1118, None), (1114, 1118, None), (1114, 1119, None), (1114, 1119, None), (1114, 1119, None),
         (1114, 1119, None), (1122, 1150, [966.6429224014282, 4020.780252532959, 767.352868850708]), (1122, 1150, None),
         (1122, 1150, None), (1122, 1150, None), (1122, 1150, None),
         (1122, 1151, [962.9821920394897, 4020.780252532959, 767.352868850708]), (1122, 1151, None), (1122, 1151, None),
         (1122, 1151, None), (1122, 1151, None),
         (1123, 1152, [962.2115125656128, 4020.780252532959, 772.3622892456054]),
         (1123, 1153, [967.9916124343872, 4020.780252532959, 776.601030166626]),
         (1123, 1154, [967.9916124343872, 4020.780252532959, 780.0690897064209]), (1123, 1154, None),
         (1123, 1155, [962.4041833877563, 4020.780252532959, 780.0690897064209]), (1123, 1155, None),
         (1123, 1156, [962.4041833877563, 4020.780252532959, 776.601030166626]), (1123, 1156, None), (1123, 1156, None),
         (1123, 1156, None), (1126, 1157, [941.1664714813232, 3935.468059539795, 759.7256393432617]),
         (1126, 1158, [941.1664714813232, 3932.770679473877, 761.8450088500977]), (1126, 1158, None),
         (1126, 1159, [934.8083610534668, 3936.046070098877, 761.8450088500977]),
         (1126, 1160, [934.8083610534668, 3936.046070098877, 758.569619178772]), (1126, 1160, None), (1126, 1160, None),
         (1126, 1160, None), (1126, 1160, None), (1126, 1160, None), (1129, 1160, None), (1129, 1127, None),
         (1129, 1160, None), (1129, 1127, None), (1129, 1160, None), (1129, 1160, None),
         (1129, 1161, [934.2303504943848, 3929.3026180267334, 759.9183101654053]),
         (1129, 1162, [934.0376815795898, 3941.4408283233643, 759.9183101654053]), (1129, 1162, None),
         (1129, 1162, None), (1133, 1102, None), (1133, 1102, None), (1133, 1102, None), (1133, 1102, None),
         (1133, 1102, None), (1133, 1102, None), (1133, 1102, None), (1133, 1102, None), (1133, 1102, None),
         (1140, 1163, [983.5978803634644, 4002.6692705917358, 757.9120405273437]),
         (1140, 1164, [983.5978803634644, 4003.6326208877563, 760.8020914154052]), (1140, 1164, None),
         (1140, 1164, None), (1140, 1164, None), (1140, 1164, None), (1140, 1164, None), (1140, 1164, None),
         (1140, 1164, None), (1140, 1164, None),
         (1141, 1165, [983.5978803634644, 4007.2933512496948, 746.5445097045898]),
         (1141, 1166, [980.5151605606079, 4007.2933512496948, 746.5445097045898]), (1141, 1166, None),
         (1141, 1166, None), (1141, 1166, None), (1141, 1166, None),
         (1141, 1167, [974.9277305603027, 4007.2933512496948, 748.2785394744873]), (1141, 1165, None),
         (1141, 1165, None), (1141, 1165, None),
         (1142, 1168, [988.0292901992798, 4009.2200518417358, 752.5172803955078]), (1142, 1168, None),
         (1142, 1168, None), (1142, 1169, [978.9738006591797, 4007.2933512496948, 752.5172803955078]),
         (1142, 1170, [985.5245809555054, 4007.2933512496948, 752.5172803955078]), (1142, 1170, None),
         (1142, 1170, None), (1142, 1170, None),
         (1142, 1171, [985.5245809555054, 4009.2200518417358, 755.0219896392822]), (1142, 1171, None),
         (1144, 1108, None), (1144, 1108, None), (1144, 1108, None), (1144, 1108, None), (1144, 1108, None),
         (1144, 1108, None), (1144, 1108, None), (1144, 1108, None), (1144, 1108, None), (1144, 1108, None),
         (1145, 1112, None), (1145, 1172, [959.7068014144897, 4012.110101776123, 761.7654398040771]),
         (1145, 1172, None), (1145, 1173, [959.7068014144897, 4019.624231414795, 768.508889968872]),
         (1145, 1174, [959.7068014144897, 4012.110101776123, 768.508889968872]), (1145, 1174, None), (1145, 1174, None),
         (1145, 1174, None), (1145, 1174, None), (1145, 1174, None),
         (1155, 1175, [961.0554933547974, 4020.780252532959, 780.6471002655029]), (1155, 1175, None),
         (1155, 1175, None), (1155, 1175, None), (1155, 1175, None), (1155, 1154, None), (1155, 1154, None),
         (1155, 1154, None), (1155, 1154, None), (1155, 1154, None), (1156, 1155, None), (1156, 1153, None),
         (1156, 1155, None), (1156, 1155, None),
         (1157, 1176, [945.5978813171387, 3935.468059539795, 759.7256393432617]), (1157, 1176, None),
         (1157, 1176, None), (1157, 1176, None), (1157, 1176, None), (1157, 1176, None), (1157, 1176, None),
         (1157, 1176, None), (1157, 1176, None), (1157, 1176, None),
         (1158, 1177, [945.4052124023438, 3930.073299407959, 762.2303485870361]), (1158, 1177, None),
         (1158, 1178, [945.5978813171387, 3930.073299407959, 759.1476287841797]),
         (1158, 1179, [945.5978813171387, 3930.073299407959, 755.6795692443848]), (1158, 1177, None),
         (1158, 1179, None), (1158, 1179, None), (1158, 1179, None), (1158, 1179, None), (1158, 1179, None),
         (1159, 1180, [933.4596710205078, 3936.046070098877, 761.8450088500977]), (1159, 1180, None),
         (1159, 1180, None), (1159, 1180, None),
         (1162, 1181, [934.0376815795898, 3941.4408283233643, 757.9916095733643]), (1162, 1181, None),
         (1162, 1181, None), (1162, 1181, None), (1162, 1181, None), (1162, 1181, None), (1162, 1181, None),
         (1162, 1181, None), (1162, 1181, None), (1162, 1181, None),
         (1164, 1182, [988.2219610214233, 4003.6326208877563, 762.5361211853027]),
         (1164, 1183, [984.5612306594849, 4003.6326208877563, 762.5361211853027]), (1164, 1183, None),
         (1164, 1184, [982.6345300674438, 4001.7059202957153, 764.8481615142822]), (1164, 1184, None),
         (1164, 1184, None), (1164, 1185, [983.5978803634644, 4003.6326208877563, 769.0869024353027]),
         (1164, 1185, None), (1164, 1185, None), (1164, 1185, None),
         (1166, 1186, [977.4324407577515, 4007.2933512496948, 746.5445097045898]), (1166, 1107, None),
         (1166, 1107, None), (1166, 1107, None), (1166, 1107, None), (1166, 1107, None),
         (1166, 1187, [971.8450107574463, 4005.3666506576537, 748.2785394744873]),
         (1166, 1188, [984.1758909225464, 4005.3666506576537, 742.6911094741821]), (1166, 1188, None),
         (1166, 1189, [971.8450107574463, 4005.3666506576537, 742.6911094741821]),
         (1169, 1190, [978.9738006591797, 4007.2933512496948, 753.8659704284668]), (1169, 1190, None),
         (1169, 1190, None), (1170, 1165, None), (1170, 1165, None), (1170, 1165, None), (1170, 1165, None),
         (1170, 1165, None), (1170, 1165, None), (1170, 1165, None), (1170, 1165, None),
         (1170, 1191, [985.5245809555054, 4007.2933512496948, 760.6094205932617]),
         (1170, 1192, [976.469090461731, 4007.2933512496948, 760.6094205932617]),
         (1177, 1193, [949.6439533233643, 3930.073299407959, 762.6156883239746]), (1177, 1193, None),
         (1177, 1193, None), (1177, 1193, None), (1177, 1193, None), (1177, 1193, None), (1177, 1193, None),
         (1177, 1194, [949.8366222381592, 3934.697380065918, 763.7717094421387]),
         (1177, 1195, [944.0565223693848, 3934.697380065918, 763.7717094421387]),
         (1177, 1196, [944.0565223693848, 3934.697380065918, 769.9371490478516]), (1178, 1177, None),
         (1184, 1197, [982.6345300674438, 3999.7792197036742, 764.8481615142822]),
         (1184, 1198, [982.6345300674438, 3999.7792197036742, 767.9308813171386]), (1184, 1198, None),
         (1184, 1198, None), (1184, 1198, None), (1184, 1198, None), (1184, 1198, None), (1184, 1197, None),
         (1184, 1197, None), (1184, 1197, None),
         (1191, 1199, [985.5245809555054, 4007.2933512496948, 762.3434503631591]), (1191, 1199, None),
         (1193, 1200, [953.8826942443848, 3930.073299407959, 762.6156883239746]), (1193, 1200, None),
         (1193, 1200, None), (1193, 1200, None),
         (1193, 1201, [950.2219638824463, 3930.073299407959, 762.6156883239746]), (1193, 1201, None),
         (1193, 1201, None), (1193, 1201, None), (1193, 1201, None), (1193, 1201, None), (1197, 1198, None),
         (1197, 1198, None), (1197, 1202, [978.5884599685669, 3997.8525191116332, 767.9308813171386]),
         (1197, 1202, None), (1197, 1202, None), (1197, 1202, None), (1197, 1202, None), (1197, 1198, None),
         (1197, 1198, None), (1197, 1184, None),
         (1198, 1203, [982.6345300674438, 3997.8525191116332, 769.6649110870361]), (1198, 1203, None),
         (1198, 1203, None), (1198, 1203, None), (1198, 1203, None), (1198, 1203, None), (1198, 1203, None),
         (1198, 1203, None), (1198, 1203, None), (1198, 1203, None),
         (1202, 1204, [978.5884599685669, 3997.8525191116332, 771.0136011199951]),
         (1203, 1205, [982.6345300674438, 3997.8525191116332, 772.7476308898925]), (1203, 1205, None),
         (1203, 1205, None), (1203, 1205, None), (1203, 1205, None), (1203, 1205, None), (1203, 1205, None),
         (1203, 1205, None), (1203, 1205, None), (1203, 1205, None),
         (1204, 1206, [978.5884599685669, 3997.8525191116332, 774.0963209228515]), (1204, 1206, None),
         (1204, 1206, None), (1204, 1206, None), (1204, 1206, None),
         (1206, 1207, [978.5884599685669, 3997.8525191116332, 775.830350692749]), (1206, 1207, None),
         (1206, 1207, None), (1206, 1207, None), (1206, 1207, None), (1206, 1207, None), (1206, 1207, None),
         (1206, 1207, None), (1206, 1207, None), (1206, 1207, None)]

# Create a Networkx graph
raw, _ = generate_training_graph(OUTPUT_PATH)

# Get a seed from the graph and considering a maximum starting_seed_depth
G, unvisited_nodes = get_starting_map(raw, depth=3)

# Assign random coordinates to
# each node
pos_dict = {node: G.nodes[node]['node_label'] for node in G.nodes}

# Convert coordinates to numpy array
pos = np.array([pos_dict[node] for node in G.nodes])
# Print min and max for each coordinate
print('x: ', np.min(pos[:, 0]), np.max(pos[:, 0]))
print('y: ', np.min(pos[:, 1]), np.max(pos[:, 1]))
print('z: ', np.min(pos[:, 2]), np.max(pos[:, 2]))

# Create a vtkPoints object to store the coordinates of the nodes
points = vtk.vtkPoints()
for node in G.nodes:
    points.InsertNextPoint(pos_dict[node])

# Create a vtkCellArray object to store the edges of the graph
lines = vtk.vtkCellArray()
for edge in G.edges:
    line = vtk.vtkLine()
    line.GetPointIds().SetId(0, edge[0])
    line.GetPointIds().SetId(1, edge[1])
    lines.InsertNextCell(line)

# Create a vtkPolyData object from the graph
polydata = vtk.vtkPolyData()
polydata.SetPoints(points)
polydata.SetLines(lines)

# Create a vtkTubeFilter to add tubes around each edge
tube_filter = vtk.vtkTubeFilter()
tube_filter.SetInputData(polydata)
tube_filter.SetRadius(2.0)
tube_filter.SetNumberOfSides(10)

# Create a vtkPolyDataMapper object to map the tubes to a 3D surface
mapper = vtk.vtkPolyDataMapper()
mapper.SetInputConnection(tube_filter.GetOutputPort())

# Create a vtkActor object to define the properties of the 3D surface
actor = vtk.vtkActor()
actor.SetMapper(mapper)
actor.GetProperty().SetColor(1.0, 0.0, 0.0)
actor.GetProperty().SetOpacity(1.0)

# Create a vtkRenderer object to display the actor
renderer = vtk.vtkRenderer()
renderer.AddActor(actor)
renderer.SetBackground(1.0, 1.0, 1.0)

# Create a vtkRenderWindow object to display the renderer
window = vtk.vtkRenderWindow()
window.AddRenderer(renderer)

# Create a vtkRenderWindowInteractor object to handle user input
interactor = vtk.vtkRenderWindowInteractor()
interactor.SetRenderWindow(window)


# Define the function to add a new node and edge to the graph
def add_node_and_edge(action):
    if action[2]:
        new_pos = action[2]
        # Add the new node to the graph
        G.add_node(action[1])
        points.InsertNextPoint(new_pos)

    # Generate a random position for the new node
    node_list = list(G.nodes)
    existing_node = node_list[action[0]]
    pos_dict[action[1]] = action[2]

    # Connect the new node to an existing node
    G.add_edge(action[0], action[1])

    # Update the vtkPolyData object with the new node and edge
    line = vtk.vtkLine()
    line.GetPointIds().SetId(0, existing_node)
    line.GetPointIds().SetId(1, action[1])
    lines.InsertNextCell(line)
    polydata.SetPoints(points)
    polydata.SetLines(lines)
    tube_filter.Modified()

    # Refresh the window
    window.Render()


# timer_id = interactor.CreateRepeatingTimer(1000)
# interactor.AddObserver(vtk.vtkCommand.TimerEvent, lambda obj, event: add_node_and_edge(steps.pop(0)))

# Start the interactor
interactor.Initialize()
interactor.Start()
